# Introducing signals
## (and how they join up components and channels to make circuits)

A signal is a monadic value that changes over time. This means that the value, and any operations performed on it, are all wrapped by the signal. The monadic pattern allows operations to be chained; each operation returns the same signal with a new value:

```
signal().map(op1).map(op2) // => signal
```

Signal operations are 'lifted' into the signal through a mapping functor (called map) and are executed whenever the value changes. Each operation returns a new value wrapped in a signal.

A functor is a high order function that accepts (or lifts) a function that will accept a value. The signal functor is used to apply the signal value to the function lifted into the signal.

```
const inc = v => v + 1
const sqr = v => v * v

signal().map(inc).map(sqr).value(1) // => 4

```

When a signal accepts input, the new value flows through all of the components lifted into the signal. Or more precisely, the new value flows into the first component. The value generated by that component flows into the next component, and so on. This is such a common pattern that Signal provides a flow functor that makes this easy to express, but it is just syntactic sugar for a series of mapping functors:

```
signal().flow(inc,sqr).value(1)     // => 4
```

Signals can accept values from the outside world. User input, program state, other signals - all valid signal inputs. Signals also accept inputs from a circuit through a mechanism called channel binding. A signal bound to a circuit through a channel will receive an input value directly from the circuit. The signal output value is also bound to the circuit, either through its own binding or defaulting to the input binding. Thus a signal represents a data channel between a circuit and its components.

A circuit is a set of signals connected by at least one channel

Circuits are also signals in their own right, extended with binding semantics, but otherwise behaving exactly the same as any other signal.

```
const signal1 = Circus.map(inc)
const signal2 = Circus.map(sqr)

const circuit1 = Circus.join({
    channel1: signal1,
    channel2: signal2
})

circuit1.value({channel1: 2, channel2: 4}) // {channel1: 3, channel2: 16}

// ES2015 shorthand comes in handy when the channel and the signal have the same binding name
const circuit2 = Circus.join( { signal1, signal2 }).value({ signal1: 123 })
```
